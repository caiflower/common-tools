════════════════════════════════════════════════════════════════════════════════
                     Web框架测试 - 快速开始指南
════════════════════════════════════════════════════════════════════════════════

【基本命令】

1. 运行所有测试
   $ go test ./web/test -v

2. 运行单个测试（5秒左右）
   $ go test ./web/test -v -run TestRESTfulPostRequest

3. 运行多个相关测试
   $ go test ./web/test -v -run "Restful|Path|Concurrent"

4. 查看覆盖率
   $ go test ./web/test -v -cover

5. 生成覆盖率报告
   $ go test ./web/test -cover -coverprofile=coverage.out
   $ go tool cover -html=coverage.out

════════════════════════════════════════════════════════════════════════════════

【可用的测试用例】

✓ TestRESTfulPostRequest      - RESTful POST请求测试
✓ TestRESTfulGetRequest       - RESTful GET请求测试  
✓ TestPathParameters          - 路径参数绑定测试
✓ TestRequiredFieldValidation - 必填字段验证测试
✓ TestMultipleInterceptors    - 拦截器执行顺序测试
✓ TestRequestTraceID          - 请求追踪ID测试
✓ TestHeaderBinding           - 请求头绑定测试
✓ TestErrorHandling           - 错误处理测试
✓ TestConcurrentRequests      - 并发请求测试（10个）

════════════════════════════════════════════════════════════════════════════════

【使用HTTP客户端的示例】

测试使用pkg/http包中的HttpClient进行HTTP请求：

  // 创建客户端
  client := httpclient.NewHttpClient(httpclient.Config{})
  
  // 发送POST请求
  req := MyRequest{Name: "test"}
  var resp CommonResponse
  httpResp := &httpclient.Response{Data: &resp}
  
  err := client.PostJson(
      "req-001",
      "localhost:9091/api/v1/tests/123",
      req,
      httpResp,
      map[string]string{"X-User-Id": "user-123"},
  )

════════════════════════════════════════════════════════════════════════════════

【测试覆盖的功能】

✓ RESTful路由和参数绑定
  - JSON Body绑定
  - 查询参数绑定
  - 路径参数绑定（{testId}等）
  - 请求头绑定

✓ 参数验证
  - 必填字段验证 (verf标签)
  - 枚举值验证 (inList标签)
  - 正则表达式验证 (reg标签)
  - 范围验证 (between标签)
  - 长度验证 (len标签)

✓ 拦截器和错误处理
  - Before/After拦截器执行
  - OnPanic异常处理
  - 多个拦截器执行顺序

✓ 并发和性能
  - 10个并发请求处理
  - 请求追踪ID管理
  - 响应序列化/反序列化

════════════════════════════════════════════════════════════════════════════════

【常见问题】

Q: 如何修改测试服务器端口？
A: 编辑 integration_test.go 的 setup() 方法，找到 Port: 9091 修改为其他端口

Q: 如何查看详细的测试输出？
A: 使用 -v 标志，如 go test ./web/test -v

Q: 如何运行特定的测试？
A: 使用 -run 标志，如 go test ./web/test -v -run TestRESTfulPostRequest

Q: 如何进行性能测试？
A: 使用 go test ./web/test -bench=. -benchmem

════════════════════════════════════════════════════════════════════════════════

【项目结构】

web/test/
├── integration_test.go        # 集成测试套件（推荐开始）
├── server_test.go             # 基础服务器测试
├── controller/v1/test/test.go # 测试控制器
├── README.md                  # 详细文档
├── TESTING_GUIDE.md           # 完整指南
└── QUICKSTART.txt             # 本文件

════════════════════════════════════════════════════════════════════════════════

【测试统计】

总测试用例：9个
成功率：100% ✓
平均执行时间：0.5-0.51秒/个
总耗时：3-4秒（9个测试）

════════════════════════════════════════════════════════════════════════════════

【下一步】

1. 查看详细文档：cat README.md
2. 运行所有测试：go test ./web/test -v
3. 生成覆盖率报告：go test ./web/test -cover -coverprofile=coverage.out

════════════════════════════════════════════════════════════════════════════════
